Вопрос:
Как избежать дедлоков, если идет много конкурентных запросов к БД?

Вопрос:
В чем отличие графовых баз данных от традиционных реляционных баз данных?
Ответ:
Графовые базы данных фокусируются на отношениях между данными и представляют данные в виде узлов и ребер, в то время как реляционные базы данных используют табличное представление.

Вопрос:
Каковы основные преимущества использования нереляционных баз данных?
Ответ:

1. Гибкость схемы - Легко изменять структуру данных, добавляя или удаляя поля.
2. Горизонтальное масштабирование - Легко масштабируются при добавлении новых узлов в кластер.
3. Высокая производительность - Подходят для больших объемов данных и часто обеспечивают высокую скорость записи.

Вопрос:
В чем разница между PostgreSQL и MySQL?
Ответ:
MySQL начал создаваться еще в 90-х. Внутренний выпуск произошел в 1995 году. .
PostgreSQL немного ранее в 1986 году начал разрабатываться в Калифорнийском университете. Над проектом работали более 8 лет, но потом был разделен на коммерческую БД IIlustra и свободный проект Postrgesql.

Особенности хранения данных.
В MySQL для хранения данных в таблицах используются различные движки. Движок не имеет влияния на синтаксис запросов и их выполнение. Имеется поддержка MyISAM, InnoDB, MEMORY, Berkeley DB. Их основное отличие в способе записи данных на диск и методов считывания. PostgreSQL работает только на движке storage engine.

Стандарты SQL.
SQL - это стандартизированный язык выполнения запросов, который используется и MySQL и PostgreSQL. Этот стандарт имеет несколько версий и был разработан еще в 1986 году.
MySQL имеет поддержку не всех функций и возможностей SQL.

PostgreSQL поддерживает все новые стандарты SQL, из-за этого данный проект довольно сложный и не настолько популярный как MySQL.

Возможности обработки данных.
MySQL при исполнении запроса делает загрузку всего ответа сервера в память клиента. В случае больших обьемов это не всегда удобно. По функциям Postgresql более широкий чем Mysql.

Производительность MySQL и Postgresql.
MySQL всегда был ориентирован на большую производительность, в то время как Postgresql был нацелен на большое количество настроек и стандартов. Но со временем эта ситуация поменялась и Postgre стал более производительным.

Вопрос:
Что такое нормализация базы данных?
Ответ:
Нормализация — это процесс организации данных, чтобы уменьшить дублирование и зависимости, делая структуру данных более логичной.

Вопрос:
Как работает партиционирование в нереляционных базах данных?
Ответ:
Партиционирование подразумевает разбиение базы данных на части для лучшей производительности и доступности. Это может быть сделано на уровне коллекций или документов, что позволяет масштабировать записи и уменьшать время отклика.

Вопрос:
Может ли измениться результат запроса, если в LEFT JOIN поменять таблицы местами?

Вопрос:
Сколько будет 5 + NULL?

Вопрос:
Можно ли делать JOIN таблицы саму на себя?

Вопрос:
Может ли ORDER ВУ приводить к уменьшению числа строк в результате выполнения?

Вопрос:
При каких типах соединения условие из WHERE можно перенести в ОN с
гарантированным сохранением результата запроса?

Вопрос:
Какой из операторов: SЕLЕСТ, FRОМ, WHERE, GROUP ВУ - будет выполняться последним при обработке запроса?

Вопрос:
Какие функции умеют возвращать значения из предыдущих/последующих строк для заданной строки таблицы?

Вопрос:
Какое минимальное и максимальное количество записей может выдать FULL JOIN таблицы на 10 строк с таблицей на 100 строк?

Вопрос:
Что такое документо-ориентированные базы данных и где они используются
Ответ:
Документо-ориентированные базы данных, такие как MongoDB, хранят данные в виде документов (обычно JSON). Они используются, когда требуется вертикальная масштабируемость и высокая производительность при работе с большими объемами неструктурированных данных.

Вопрос:
Что такое ACID в контексте реляционных баз данных?
Ответ:
ACID – это набор свойств (атомарность, согласованность, изолированность, долговечность), которые гарантируют надежность транзакций в реляционных базах данных.

Вопрос:
Оконные функции (view functions).

Вопрос:
К тебе приходит продуктоунер и говорит, что внутри компании хотим создать закрытый мессенджер для сотрудников компании (1 000 человек). Как будешь действовать? Какие технологии, почему именно их бы использовал? Какую базу данных? Если SQL, то какие сущности, поля и связи между ними? Расскажи про архитектуру

Как бы сделал контроль того, прочитано ли сообщение в мессенджере? Как бы установил ограничения того, кто может просматривать какое-то сообщение?

Отлично, все запускается. Снова я прихожу через месяца 2-3 и говорю: "У нас есть еще в проекте модуль ГАЛЕРЕЯ и пришла задача, что мы хотим добавить в нее какие-то реакции (лайки) и это нужно прикрутить к мессенджеру. Как это сделать, так скажем, одним действием, чтобы лайки можно использовать в ГАЛЕРЕЕ и мессенджере?"

Вопрос:
Объясните, как работают схемы в документных хранилищах, таких как MongoDB.
Ответ:
В документных хранилищах структуры данных представляют собой JSON-подобные документы, где каждый документ может иметь свою структуру, что дает большую гибкость по сравнению с фиксированными схемами реляционных баз данных.\

Вопрос:
В чем раница между lazy loading и eager loading в ORM?

Вопрос:
Что такое шардирование в контексте NoSQL баз данных?
Ответ:
Шардирование – это метод распределения данных по нескольким серверам или экземплярам, что позволяет обрабатывать большие объемы данных и повышает доступность.

Вопрос:
Как вы проектируете документ на MongoDB?
Ответ:
Проектирование документа в MongoDB включает определение структуры коллекций и документов, рассмотрение вложенных документов и массивов, а также балансировку между нормализацией и денормализацией данных для оптимизации чтения/записи.

Вопрос:
Какие типы NoSQL-баз данных вы знаете? Опишите их отличительные особенности.
Ответ:
Основные типы NoSQL:

- Document-oriented. Хранят данные в виде документов (например, MongoDB, Couchbase).
- Key-value. Хранят данные в виде пар ключ-значение (например, Redis, Memcached).
- Column-family. Хранят данные в виде таблиц с колонками (например, Cassandra, HBase).
- Graph. Хранят данные в виде графов (например, Neo4j, OrientDB).

Вопрос:
Какие есть джойны и каким можно перемножить данные. Почему его нельзя и пользовать над большими таблицами

Вопрос:
Что такое курсор и зачем он нужен
Ответ:
Запрос к реляционной базе данных обычно возвращает несколько рядов (записей) данных, но приложение за один раз обрабатывает лишь одну запись. Даже если оно имеет дело одновременно с несколькими рядами (например, выводит данные в форме электронных таблиц), их количество по-прежнему ограничено. Кроме того, при модификации, удалении или добавлении данных рабочей единицей является ряд. В этой ситуации на первый план выступает концепция курсора, и в таком контексте курсор – указатель на ряд.

Курсор в SQL – это область в памяти базы данных, которая предназначена для хранения последнего оператора SQL. Если текущий оператор – запрос к базе данных, в памяти сохраняется строка данных запроса, называемая текущим значением, или текущей строкой курсора. Указанная область в памяти поименована и доступна для прикладных программ.

Обычно курсоры используются для выбора из базы данных некоторого подмножества хранимой в ней информации. В каждый момент времени прикладной программой может быть проверена одна строка курсора. Курсоры часто применяются в операторах SQL, встроенных в написанные на языках процедурного типа прикладные программы. Некоторые из них неявно создаются сервером базы данных, в то время как другие определяются программистами.

В некоторых случаях применение курсора неизбежно. Однако по возможности этого следует избегать и работать со стандартными командами обработки данных: SELECT, UPDATE, INSERT, DELETE.

Вопрос:
Что такое сага?

Вопрос:
Что такое первичный ключ и внешний ключ в реляционных базах данных?
Ответ:
Первичный ключ — это уникальный идентификатор записи в таблице, а внешний ключ — это поле, которое связывает таблицы между собой.

Вопрос:
Расскажите про методы резервного копирования и восстановления данных в реляционных и нереляционных базах данных и расскажите, как вы это реализовали на практике.
Ответ:
В реляционных базах данных (SQL) резервное копирование обычно делается через дампы, например, с помощью mysqldump для MySQL или pg_dump для PostgreSQL. Восстановление происходит через импорт этих дампов.

Вопрос:
Какие преимущества и недостатки имеет база данных MongoDB по сравнению с MySQL?
Ответ:
Преимущества MongoDB:

- Гибкость структуры данных.
- Масштабируемость.
- Удобство работы с документами.

Недостатки MongoDB:

- Сложность в работе с транзакциями.
- Отсутствие ACID-свойств.
- Меньше возможностей для запросов и анализа данных.

Вопрос:
Опишите основные типы индексов в базах данных.
Ответ:
Индексы в базах данных - это специальные структуры данных, которые ускоряют поиск и сортировку информации. Они работают как указатели, позволяющие быстро находить нужные записи в таблице, не просматривая все строки.

Основные типы индексов:

1. B-дерево (B-tree) самый распространенный тип индекса, используемый в большинстве СУБД. Представляет собой сбалансированное дерево поиска, которое обеспечивает быстрый доступ к данным как для поиска, так и для сортировки.

2. Hash-индекс хранит данные в хеш-таблице, где ключ - это значение столбца, а значение - указатель на соответствующую запись в таблице.

3. Bitmap-индекс использует битовый вектор, где каждый бит соответствует уникальному значению столбца. Вектор позволяет эффективно проверять, содержит ли столбец определенное значение.

4. Функциональный индекс создается на основе функции, которая применяется к значению столбца. Используется для индексирования вычисляемых значений или значений, которые не подходят для обычных индексов (например, текстовые поля).

5. Пространственный индекс специально разработан для индексирования геометрических данных (например, координат).

Вопрос:
Как работают индексы в NoSQL базах данных?
Ответ:
Индексы в NoSQL базах данных позволяют быстро находить и извлекать данные без полного сканирования коллекции, что значительно улучшает производительность запросов.

Вопрос:
Что такое вложенная транзакция?
Ответ:
Вложенными называются транзакции, выполнение которых инициируется из тела уже активной транзакции .

Для создания вложенной транзакции пользователю не нужны какие-либо дополнительные команды. Он просто начинает новую транзакцию, не закрыв предыдущую. Завершение транзакции верхнего уровня откладывается до завершения вложенных транзакций. Если транзакция самого нижнего ( вложенного ) уровня завершена неудачно и отменена, то все транзакции верхнего уровня, включая транзакцию первого уровня, будут отменены. Кроме того, если несколько транзакций нижнего уровня были завершены успешно (но не зафиксированы), однако на среднем уровне (не самая верхняя транзакция ) неудачно завершилась другая транзакция, то в соответствии с требованиями ACID произойдет откат всех транзакций всех уровней, включая успешно завершенные. Только когда все транзакции на всех уровнях завершены успешно, происходит фиксация всех сделанных изменений в результате успешного завершения транзакции верхнего уровня.

Каждая команда COMMIT TRANSACTION работает только с последней начатой транзакцией. При завершении вложенной транзакции команда COMMIT применяется к наиболее "глубокой" вложенной транзакции. Даже если в команде COMMIT TRANSACTION указано имя транзакции более высокого уровня, будет завершена транзакция, начатая последней.

Вопрос:
Объясните, как работает механизм репликации данных в базах данных. Какие типы репликации вы знаете?
Ответ:
Репликация данных - это механизм, который позволяет создавать копии данных в других местах.

Типы репликации:

- Master-slave. Данные копируются с основного сервера (master) на резервные серверы (slaves).
- Master-master. Данные синхронизируются между двумя или более основными серверами.
- Asynchronous. Копирование данных происходит с задержкой.
- Synchronous. Копирование данных происходит в режиме реального времени.

Вопрос:
Как диагностировать почему база медленная?

Вопрос:
Какова структура документа в MongoDB?
Ответ:
Документы в MongoDB представляют собой структуры данных в формате BSON (Binary JSON), позволяющие хранить пары ключ-значение и поддерживать вложенные структуры.

Вопрос:
Можно ли эффективно искать по jsonb?

Вопрос:
Объясните, как работает операция JOIN в SQL? Какие виды JOIN вы знаете?
Ответ:
JOIN используется для объединения данных из нескольких таблиц на основе общих значений в столбцах.

Виды JOIN:

- INNER JOIN. Возвращает строки, у которых есть соответствия в обоих таблицах.
- LEFT JOIN. Возвращает все строки из левой таблицы и соответствующие строки из правой таблицы.
- RIGHT JOIN. Возвращает все строки из правой таблицы и соответствующие строки из левой таблицы.
- FULL JOIN. Возвращает все строки из обеих таблиц.

Вопрос:
В чем преимущества использования NoSQL баз данных по сравнению с реляционными?
Ответ:
NoSQL базы данных обеспечивают гибкость схемы, масштабируемость и лучше подходят для хранения больших объемов неструктурированных данных.

Вопрос:
Расскажите про методы резервного копирования и восстановления данных в реляционных и нереляционных базах данных и расскажите, как вы это реализовали на практике.
Ответ:
В реляционных базах данных (SQL) резервное копирование обычно делается через дампы, например, с помощью mysqldump для MySQL или pg_dump для PostgreSQL. Восстановление происходит через импорт этих дампов.

В нереляционных базах данных (NoSQL) методы резервного копирования зависят от конкретной базы. Например, в MongoDB можно делать дампы с помощью mongodump, а в Cassandra - с помощью nodetool и sstableloader для восстановления.

На практике я использовал:

• Регулярные дампы: Создавал полные дампы баз данных по расписанию, сохраняя их в облачное хранилище.
• Инкрементные дампы: Делал дампы только изменений с момента последнего полного дампа, чтобы сократить время резервного копирования.
• Логирование: Использовал журналы изменений (transaction logs) для восстановления данных до определенного момента времени.

Важно помнить о:

• Частоте резервного копирования: Регулярные резервные копии - ключ к успешному восстановлению.
• Хранение резервных копий: Безопасное хранение копий в отдельном месте.
• Тестирование восстановления: Регулярное тестирование процесса восстановления данных, чтобы убедиться, что оно работает.

Вопрос:
Как оптимизировать SQL-запросы для повышения производительности?
Ответ:
Оптимизацию можно выполнить с помощью индексов, использования EXPLAIN для анализа запросов, минимизации использования подзапросов и оптимизации объединений.
